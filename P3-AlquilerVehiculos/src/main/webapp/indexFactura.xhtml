<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Detalles de Factura</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
</h:head>
<h:body>
    <h2>Detalles de Factura</h2>

    <div class="container">
        <div class="content">
            <h:form>
                <div>
                    <h:commandButton styleClass="button-agregar" value="Nueva Factura"
                                     action="#{facturaBean.nuevo()}" />
                </div>
            </h:form>

            <table  class=" align-middle bg-white">
                <thead class="bg-light ">
                <tr class="header-row">
                    <th>Empleado</th> <!-- Agregar encabezado para el primer campo -->
                    <th>Vehiculo</th>
                    <th>Nombre Cliente</th>
                    <th>Cedula cliente</th>
                    <th>Direccion cliente</th>
                    <th>Telefono CLiente</th>
                    <th>Fecha Alquiler</th>
                    <th>Fecha Devolucion</th>
                    <th>Precio Alquiler Dia</th>
                    <th>Abono alquiler</th>
                    <th>Total Alquiler</th>
                    <th>Acciones</th>
                </tr>
                </thead>
                <tbody>
                <!-- Iterar a travÃ©s de las facturas obtenidas y mostrar los detalles en una fila de la tabla -->
                <ui:repeat value="#{facturaBean.obtenerFacturas()}" var="factura">
                    <tr>
                        <td style="text-align: center">#{empleadoBean.obtenerEmpleadoPorId(factura.id_Empleados).nombres}</td>
                        <td style="text-align: center">#{autoBean.obtenerAutoPorId(factura.idVehiculos).marca}</td>
                        <td style="text-align: center">#{factura.nombreCliente}</td>
                        <td style="text-align: center">#{factura.cedulaCliente}</td>
                        <td style="text-align: center">#{factura.direccionCliente}</td>
                        <td style="text-align: center">#{factura.telefonoCliente}</td>
                        <td style="text-align: center">#{factura.fechaAlquiler}</td>
                        <td style="text-align: center">#{factura.fechaDevolucion}</td>
                        <td style="text-align: center">#{factura.precioAlquilerDia}</td>
                        <td style="text-align: center">#{factura.abonoAlquiler}</td>
                        <td style="text-align: center">#{factura.totalAlquiler}</td>
                        <td>
                            <h:form>
                                <h:commandButton value="Editar" styleClass="button"
                                                 action="#{facturaBean.editar(factura.id_Facturas)}" />
                            </h:form>

                            <h:form>
                                <h:commandButton value="Eliminar" styleClass="button"
                                                 action="#{facturaBean.eliminar(factura.id_Facturas)}" />
                            </h:form>
                        </td>
                    </tr>
                </ui:repeat>
                </tbody>
            </table>
        </div>
    </div>

</h:body>
</html>
